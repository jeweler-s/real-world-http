### ⚔️ 공격

**기존 방식**

- `OS`에 접근
- **맬웨어**: 컴퓨터에 위협을 주는 소프트웨어
    - 복제해서 증가하는 컴퓨터 바이러스, 보안 취약점을 공격해 감염하는 웜

**웹 이후**

- `브라우저`에 접근
- 로그인 정보 노출
    - 개인 정보 유출, 금전적 피해, 디도스 공격에 악용

→ 웹이 발전하면서 개발자가 알아야 할 사양의 복잡성이 증가함.

→ 기술이 좋아져도 휴먼 에러로 보안에 구멍이 생길 수 있음

### 🤔 무슨 공격?

**크로스 사이트 스크립팅(XSS)**

- 사용자가 입력한 내용이 아무런 필터링 없이 공개될 경우 악의적인 스크립트가 있을 때 실행됨
- 다른 모든 공격의 기점이 될 수 있음
- 😇 템플릿 엔진은 대부분 안전한 출력을 보장. 적절한 라이브러리를 사용하자

**중간자 공격(MITM)**

- 프록시 서버가 통신을 중계할 때 통신 내용을 빼냄
- 인터넷 접속 경로로 패킷을 도청 당해 통신 내용 유출
- 😇 HTTPS를 이용하자

**세션 하이재킹**

- 세션 토큰을 훔쳐 웹사이트에 로그인
- 😇 HTTPS를 이용하고 Set-Cookie: httpOnly, secure를 사용하자

**세션 고정 공격**

- 공격자가 작성한 세션 토큰을 포함하는 URL을 통해 접근함으로써 작성한 문자열이 정규 세션 토큰이 됨

**사이트 간 요청 위조**

- 본인이 의도하지 않은 서버 요청을 관계없는 페이지에서 보내게 함
- 😇 올바른 토큰이 포함되지 않은 모든 요청은 거절하자, SameSite

**클릭재킹**

- 웹사이트를 투명하게 하여 악의적인 페이지 위에 겹치는 방법

**리스트형 계정 해킹**

- 보통 같은 비밀번호를 쓴다… 하나 쓰면 다 뚫림
- 😇 2단계 인증, 지오로케이션, 시간당 액세스 제한

### CORS

- 오리진 사이에 자원을 공유하는 방법
- 클라이언트에서 서버로 액세스하기 직전까지의 권한 확인 프로토콜
- 보호 대상: API 서버 (보안을 위한 기능임)

**✈️ 프리플라이트 요청**

- 실제 통신 전에 권한을 확인하려 보내는 요청
- 일정 기간 캐시해서 통신을 생략할 수 있음

### 😷 HTTP는 어떻게 브라우저를 보호할까?

**httpOnly 쿠키**

- 자바스크립트에서 접근 불가능한 쿠키 만들기

**X-XSS-Protection 헤더**

- 명확하게 수상한 패턴 감지하기 (패턴 매칭)

**Content-Security-Policy 헤더**

- 웹사이트에서 사용할 수 있는 기능을 세밀하게 스위칭
- 브라우저가 실시하는 검사, 템플릿 엔진 사용시 문제 가능성

**Mixed Content**

- HTTPS에 HTTP가 섞이는 경우 오류/경고
- Content-Security-Policy 헤더의 upgrade-insecure-requests 지시문 사용시 **https인 것처럼** 가지러 감

**HSTS**

- 서버 측에서 `앞으로 접속할 때 HTTPS로 접속해` 라고 전달하는 기능

**X-Frame-Options 헤더**

- 페이지가 IFRAME 내에서 이용되는 것을 방지

### 🤨 HTTPS 과연 만능인가?

중간자의 인증서가 승인되면 합법적으로 HTTPS 통신의 비밀을 깰 수 있게 된다는 맹점!
→ HTTP 공개 키 피닝 사용

**HTTP 공개 키 피닝**

- 공개 키를 사용해서 인증서 검증
- 공개 키 목록을 로컬에 저장해둠
- 두 번째 액세스부터 서버가 보낸 인증서의 공개 키와 저장해둔 공개 키를 비교하여 확인

### 📺 웹 광고

**측정 방식**

- 쿠키 기반 측정 도구: 사용자에 대한 고유 아이디로 3개월 이상 전환 성과 조회 가능
- 핑거 프린트: 단말기 설정이 필요하지 않음

**개인 정보 위반**

- 웹 광고 → 사용자의 웹 사이트 기록 정보(=개인정보) 기반

**서드파티 쿠키**

- 사이트를 넘어서 행동 추적을 가능하게 함
- 사용자가 인식하지 않는 곳에서 추적되므로 개인 정보 보호 문제

**구글 애널리틱스**

- 사용자의 방문 기록으로 광고 이외에도 사용자의 움직임을 파악하여 목적을 달성할 수 있음
