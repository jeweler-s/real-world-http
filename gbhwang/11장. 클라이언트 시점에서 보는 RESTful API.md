# 11장. 클라이언트 시점에서 보는 RESTful API

# REST

## 특성

- API가 웹 서버를 통해 제공
- 경로에 메서드를 보내 서비스를 얻음
- API가 성공했는지 상태 코드로 클라이언트에 응답
- URL은 리소스의 위치를 나타내는 표현
- 필요에 따라 매개변수, 바디 등 추가 정보 전송 가능
- 응답 값은 JSON, XML 같은 구조화 텍스트가 대다수

## REST API vs RPC

- `REST API`  : `GET`으로 조회하는 리소스 제외 모두 메타데이터, 메타데이터의 취득과 수정은 헤더로 진행
- `RPC` : URL은 한 개, 요청 시 무엇을 할 것인가를 지정, 데이터/메타데이터 모두 동일시

# HATEOAS

- REST의 일부인 `인터페이스의 일반화`를 사양으로 만든 것
- 리소스 간의 관련 정보와 리소스의 조작 링크를 응답에 포함시켜 리소스의 자기서술력 향상

# REST-ish

- 완전히 RESTful하지 않을 때, REST 스타일 API라고 지칭하는 용어

## 지양해야 할 API 설계

- URL에 아래 내용 포함
    - 동사
    - `API` 단어
    - 포맷을 나타내는 문자
    - 불필요한 정보
    - 버전 정보

# 메서드

## 종류

- 안전한 메서드 : `GET`, `HEAD`, `OPTIONS`
- 멱등한 메서드 : `PUT`, `DELETE`
- 기타
    - `OPTIONS` : 프리플라이트 요청에 사용

## 오버로드 포스트

- `GET`, `POST`만 이용하는 API 서버에서 `PUT`이나 `DELETE`라는 것을 메시지에 싣고 실제 메서드는 `POST`를 사용하는 것

## 구글의 API 디자인 가이드

> POST /v3/events:clear
GET /v3/events:batchGet
> 
- 경로 뒤 `:메서드명`  문자열 추가해 표현

# 상태 코드

- 100번대 : 성공이나 실패가 결정되기 이전 상태
- 200번대 : 성공
- 300번대 : 리다이렉트
- 400번대 : 클라이언트 오류
- 500번대 : 서버 오류

# 바디

- 최근에는 JSON을 사용하는 경우가 늘어나고 있음

# REST API에 액세스할 때 주의할 점

- 타임 아웃
- 액세스 수 제한
